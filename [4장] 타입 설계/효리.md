ğŸ”— [ë…¸ì…˜ ë§í¬](https://artistic-roadrunner-94f.notion.site/TS-4-4280151e3f9045f29a9766b1781ac415?pvs=4)

---

# ğŸ“œ 4ì¥ íƒ€ì… ì„¤ê³„

â€œíƒ€ì…ì„ ì œëŒ€ë¡œ ì‘ì„±í•œë‹¤ë©´, í…Œì´ë¸”(ì½”ë“œì˜ íƒ€ì…)ë¿ë§Œ ì•„ë‹ˆë¼ ìˆœì„œë„(ì½”ë“œì˜ ë¡œì§) ì—­ì‹œ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤.â€

---

## ì•„ì´í…œ 28 ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•˜ê¸°

â€œíš¨ê³¼ì ìœ¼ë¡œ íƒ€ì…ì„ ì„¤ê³„í•˜ë ¤ë©´, ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ë§Œë“¤ì–´ ë‚´ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤.â€

```tsx
// í˜ì´ì§€ ë‚´ìš© ë¡œë“œ & í™”ë©´ í‘œì‹œ ì˜ˆì‹œ
interface RequestPending {
  state: 'pending'
}
interface RequestError {
  state: 'error'
  error: string
}
interface RequestSuccess {
  state: 'ok'
  pageText: string
}

// ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ê³¼ì • ê°ê°ì˜ ìƒíƒœë¥¼ ëª…ì‹œì ìœ¼ë¡œ ëª¨ë¸ë§í•˜ëŠ” íƒœê·¸ëœ ìœ ë‹ˆì˜¨ ì‚¬ìš©!
type RequestState = RequestPending | RequestError | RequestSuccess

interface State {
  currentPage: string
  requests: { [page: string]: RequestState }
}
function getUrlForPage(p: string) {
  return ''
}
function renderPage(state: State) {
  const { currentPage } = state
  const requestState = state.requests[currentPage]
  switch (requestState.state) {
    case 'pending':
      return `Loading ${currentPage}...`
    case 'error':
      return `Error! Unable to load ${currentPage}: ${requestState.error}`
    case 'ok':
      return `<h1>${currentPage}</h1>\n${requestState.pageText}`
  }
}

async function changePage(state: State, newPage: string) {
  state.requests[newPage] = { state: 'pending' }
  state.currentPage = newPage
  try {
    const response = await fetch(getUrlForPage(newPage))
    if (!response.ok) {
      throw new Error(`Unable to load ${newPage}: ${response.statusText}`)
    }
    const pageText = await response.text()
    state.requests[newPage] = { state: 'ok', pageText }
  } catch (e) {
    state.requests[newPage] = { state: 'error', error: '' + e }
  }
}
```

- ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…ì˜ ì½”ë“œ ê¸¸ì´ê°€ ì„œë„ˆ ë°° ê¸¸ì–´ì§€ê¸´ í–ˆì§€ë§Œ, ë¬´íš¨í•œ ìƒíƒœë¥¼ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œê°€ ë˜ì—ˆë‹¤.

- ê¸°ì¥ê³¼ ë¶€ê¸°ì¥ì´ ì“°ëŠ” ìŠ¤í‹±ì„ ê¸°ê³„ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ ì‚¬ê³ ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤ .. ğŸ˜‘

â‡¾ ìš”ì•½: ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•´ì•¼ í•œë‹¤. ì½”ë“œê°€ ê¸¸ì–´ì§€ë”ë¼ë„ ë‚˜ì¤‘ì— ì˜¬ ê³ í†µì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤!

## ì•„ì´í…œ 29 ì‚¬ìš©í•  ë•ŒëŠ” ë„ˆê·¸ëŸ½ê²Œ, ìƒì„±í•  ë•ŒëŠ” ì—„ê²©í•˜ê²Œ

â€œí•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ëŠ” íƒ€ì…ì˜ ë²”ìœ„ê°€ ë„“ì–´ë„ ë˜ì§€ë§Œ, ê²°ê³¼ë¥¼ ë°˜í™˜í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ íƒ€ì…ì˜ ë²”ìœ„ê°€ ë” êµ¬ì²´ì ì´ì–´ì•¼ í•©ë‹ˆë‹¤.â€

```tsx
// ì¹´ë©”ë¼ ìœ„ì¹˜, ë·°í¬íŠ¸ ê³„ì‚° ì˜ˆì‹œ
interface LngLat {
  lng: number
  lat: number
}
// ëŠìŠ¨í•œ íƒ€ì…!
type LngLatLike = LngLat | { lon: number; lat: number } | [number, number]

interface Camera {
  center: LngLat
  zoom: number
  bearing: number
  pitch: number
}

// ì¹´ë©”ë¼ ì˜µì…˜ì€ ì„ íƒì ì´ë‹¤. ì´ ì¤‘, center ì†ì„±ì€ ëŠìŠ¨í•œ íƒ€ì…ì„ ì ìš©
interface CameraOptions extends Omit<Partial<Camera>, 'center'> {
  center?: LngLatLike
}
type LngLatBounds =
  | { northeast: LngLatLike; southwest: LngLatLike }
  | [LngLatLike, LngLatLike]
  | [number, number, number, number]

declare function setCamera(camera: CameraOptions): void

// ë§¤ê°œë³€ìˆ˜ëŠ” ëŠìŠ¨í•˜ì§€ë§Œ ë°˜í™˜ íƒ€ì…ì€ Cameraë¡œ ë²”ìœ„ê°€ ì¢ë‹¤.
declare function viewportForBounds(bounds: LngLatBounds): Camera
```

â‡¾ ìš”ì•½: ì„ íƒì  ì†ì„±ì´ë‚˜ ìœ ë‹ˆì˜¨ íƒ€ì…ì€ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì— ë” ì¼ë°˜ì ì´ë‹¤. ë˜í•œ ê¸°ë³¸ í˜•íƒœì™€ ëŠìŠ¨í•œ í˜•íƒœë¥¼ ë„ì…í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. defaultTypeê³¼ defaultTypeLike ê°™ì€ ?!

---

## ì•„ì´í…œ 30 ë¬¸ì„œì— íƒ€ì… ì •ë³´ë¥¼ ì“°ì§€ ì•Šê¸°

â€œì½”ë“œì™€ ì£¼ì„ì´ ë§ì§€ ì•ŠëŠ”ë‹¤ë©´, ë‘˜ ë‹¤ ì˜ëª»ëœ ê²ƒì´ë‹¤!â€

- ì£¼ì„ ëŒ€ì‹  íƒ€ì… ì •ë³´ë¥¼ ì‘ì„±í•œë‹¤ë©´ ì½”ë“œê°€ ë³€ê²½ë˜ì–´ë„ ì •ë³´ê°€ ì •í™•íˆ ë™ê¸°í™”ëœë‹¤.
- ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì£¼ì„ë³´ë‹¤ëŠ” `readonly` íƒ€ì…ì„ ì„ ì–¸
- ë³€ìˆ˜ëª…ì— íƒ€ì… ì •ë³´ë¥¼ ë„£ëŠ”ë‹¤ê¸° ë³´ë‹¤ëŠ” íƒ€ì…ì„ ëª…ì‹œ `ageNum` â‡’ `age: number`
  - ë‹¨ìœ„ê°€ ìˆëŠ” ìˆ«ìë“¤ì€ ì˜ˆì™¸!

â‡¾ ìš”ì•½: ì£¼ì„ê³¼ ë³€ìˆ˜ëª…ì— íƒ€ì… ì •ë³´ë¥¼ ì ì§€ ë§ì! íƒ€ì…ì´ ëª…í™•í•˜ì§€ ì•Šì„ ë•Œì—ëŠ” ë³€ìˆ˜ëª…ì— ë‹¨ìœ„ ì •ë³´ë¥¼ í¬í•¨í•˜ì!

---

## ì•„ì´í…œ 31 íƒ€ì… ì£¼ë³€ì— null ê°’ ë°°ì¹˜í•˜ê¸°

â€œê°’ì´ ì „ë¶€ nullì´ê±°ë‚˜ ì „ë¶€ nullì´ ì•„ë‹Œ ê²½ìš°ë¡œ ë¶„ëª…íˆ êµ¬ë¶„ëœë‹¤ë©´, ê°’ì´ ì„ì—¬ ìˆì„ ë•Œë³´ë‹¤ ë‹¤ë£¨ê¸° ì‰½ìŠµë‹ˆë‹¤.â€

```tsx
// ìµœëŒ€ê°’ ìµœì†Œê°’ êµ¬í•˜ëŠ” ì˜ˆì‹œ
function extent(nums: number[]) {
  let result: [number, number] | null = null
  for (const num of nums) {
    if (!result) {
      result = [num, num]
    } else {
      result = [Math.min(num, result[0]), Math.max(num, result[1])]
    }
  }
  return result
}
const range = extent([0, 1, 2])
if (range) {
  const [min, max] = range
  const span = max - min // OK
}
```

- `min`ê³¼ `max`ë¥¼ í•œ ê°ì²´ ì•ˆì— ë„£ê³  nullì´ê±°ë‚˜ nullì´ ì•„ë‹ˆê²Œ í•œë‹¤.
- ë°˜í™˜ íƒ€ì…ì´ `[number, number] | null` ì´ ë˜ì—ˆë‹¤.

```tsx
// í´ë˜ìŠ¤ ì˜ˆì‹œ
interface UserInfo {
  name: string
}
interface Post {
  post: string
}
declare function fetchUser(userId: string): Promise<UserInfo>
declare function fetchPostsForUser(userId: string): Promise<Post[]>
class UserPosts {
  user: UserInfo | null
  posts: Post[] | null

  constructor() {
    this.user = null
    this.posts = null
  }

  async init(userId: string) {
    return Promise.all([
      async () => (this.user = await fetchUser(userId)),
      async () => (this.posts = await fetchPostsForUser(userId)),
    ])
  }

  getUserName() {
    // ...?
  }
}
```

- ğŸš¨ ë‘˜ ë‹¤ null ì´ê±°ë‚˜, í•˜ë‚˜ë§Œ nullì´ê±°ë‚˜, ë‘˜ ë‹¤ nullì´ ì•„ë‹ ë•Œê°€ ìˆì–´ì„œ ë¶ˆí™•ì‹¤í•˜ë‹¤.
- ğŸš¨ null ì²´í¬ê°€ ë‚œë¬´í•˜ê³  ë²„ê·¸ë¥¼ ì–‘ì‚°í•˜ê²Œ ë  ì½”ë“œë‹¤.

```tsx
interface UserInfo {
  name: string
}
interface Post {
  post: string
}
declare function fetchUser(userId: string): Promise<UserInfo>
declare function fetchPostsForUser(userId: string): Promise<Post[]>
class UserPosts {
  user: UserInfo
  posts: Post[]

  constructor(user: UserInfo, posts: Post[]) {
    this.user = user
    this.posts = posts
  }

  static async init(userId: string): Promise<UserPosts> {
    const [user, posts] = await Promise.all([
      fetchUser(userId),
      fetchPostsForUser(userId),
    ])
    return new UserPosts(user, posts) // í™•ì‹¤íˆ ë°ì´í„°ë¥¼ ë°›ì•„ì™”ì„ ë•Œ ìƒˆë¡œìš´ UserPostsë¥¼ ë°˜í™˜í•œë‹¤.
  }

  getUserName() {
    return this.user.name
  }
}
```

â‡¾ ìš”ì•½:

API ì‘ì„± ë•ŒëŠ” ë°˜í™˜ íƒ€ì… ì „ì²´ê°€ nullì´ê±°ë‚˜ nullì´ ì•„ë‹ˆê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

í´ë˜ìŠ¤ëŠ” ëª¨ë“  ê°’ì´ ì¤€ë¹„ë˜ì—ˆì„ ë•Œ ìƒì„±í•˜ì—¬ nullì´ ì¡´ì¬í•˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

`strictNullChecks`ë¥¼ ì„¤ì •í•˜ì!

## ì•„ì´í…œ 32 ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•˜ê¸°

â€œì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ë” ì•Œë§ì§€ëŠ” ì•Šì„ì§€ ê²€í† í•´ ë´ì•¼ í•©ë‹ˆë‹¤.â€

```tsx
interface Layer {
  type: 'fill' | 'line' | 'point'
  layout: FillLayout | LineLayout | PointLayout
  paint: FillPaint | LinePaint | PointPaint
}
```

- ğŸš¨ íƒ€ì…ì´ fill ì´ë©´ì„œ LineLayoutì¸ ê²ƒì€ ë§ë„ ì•ˆ ëœë‹¤.
- ğŸš¨ ê°–ë‹¤ ë²„ë¦´ ì¸í„°í˜ì´ìŠ¤.

```tsx
interface FillLayer {
  type: 'fill'
  layout: FillLayout
  paint: FillPaint
}
interface LineLayer {
  type: 'line'
  layout: LineLayout
  paint: LinePaint
}
interface PointLayer {
  type: 'paint'
  layout: PointLayout
  paint: PointPaint
}
type Layer = FillLayer | LineLayer | PointLayer
function drawLayer(layer: Layer) {
  if (layer.type === 'fill') {
    const { paint } = layer // Type is FillPaint
    const { layout } = layer // Type is FillLayout
  } else if (layer.type === 'line') {
    const { paint } = layer // Type is LinePaint
    const { layout } = layer // Type is LineLayout
  } else {
    const { paint } = layer // Type is PointPaint
    const { layout } = layer // Type is PointLayout
  }
}
```

- Layerë¥¼ ë¦¬í„°ëŸ´ íƒ€ì…ì˜ ìœ ë‹ˆì˜¨(=ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤)ì—ì„œ **ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨**ìœ¼ë¡œ ë³€í™˜í–ˆë‹¤.
- ìš©ë„ì— ë§ê²Œ ëª…í™•í•˜ê²Œ íƒ€ì…ì„ ë§Œë“¤ ìˆ˜ ìˆê³ , ë²”ìœ„ë¥¼ ì¢íˆëŠ” ë°ì—ë„ ë„ì›€ì´ ëœë‹¤.

### ë™ì‹œì— undefinedì´ê±°ë‚˜ ë™ì‹œì— ê°’ì´ ìˆëŠ” ê²½ìš°

```tsx
interface Name {
  name: string
}

interface PersonWithBirth extends Name {
  placeOfBirth: string
  dateOfBirth: Date
}

type Person = Name | PersonWithBirth
function eulogize(p: Person) {
  if ('placeOfBirth' in p) {
    p // Type is PersonWithBirth
    const { dateOfBirth } = p // OK, type is Date
  }
}
```

- ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ë§Œë“ ë‹¤.
- ë™ì‹œì— ê°’ì´ ìˆê±°ë‚˜ ì—†ëŠ” ìƒíƒœë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

â‡¾ ìš”ì•½: ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì„ ì§€í–¥í•˜ì. íƒœê·¸ëœ ìœ ë‹ˆì˜¨ì„ ì§€í–¥í•˜ì. :)

---

## ì•„ì´í…œ 33 string íƒ€ì…ë³´ë‹¤ ë” êµ¬ì²´ì ì¸ íƒ€ì… ì‚¬ìš©í•˜ê¸°

â€œâ€™xâ€™ë‚˜ â€˜yâ€™ ê°™ì€ í•œ ê¸€ìë„, ì•½ 120ë§Œ ê¸€ìì˜ ì†Œì„¤ì˜ ì „ì²´ ë‚´ìš©ë„ string íƒ€ì…ì…ë‹ˆë‹¤.â€

stringìœ¼ë¡œ ë˜ì–´ìˆë˜ íƒ€ì…ë“¤ì„ ë²”ìœ„ë¥¼ ì¢íˆë©´ ë„¤ ê°€ì§€ ì¥ì ì´ ìˆë‹¤.

1. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì˜¤ë¥˜ë¥¼ ë” ì„¸ë°€í•˜ê²Œ ì²´í¬í•œë‹¤.
2. íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•¨ìœ¼ë¡œì¨ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ê°’ì´ ì „ë‹¬ë˜ì–´ë„ íƒ€ì… ì •ë³´ê°€ ìœ ì§€ëœë‹¤.
3. íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ê³  í•´ë‹¹ íƒ€ì…ì˜ ì˜ë¯¸ë¥¼ ì„¤ëª…í•˜ëŠ” ì£¼ì„ì„ ë¶™ì—¬ ë„£ì„ ìˆ˜ ìˆë‹¤.
4. `keyof` ì—°ì‚°ìë¡œ ë”ìš± ì„¸ë°€í•˜ê²Œ ê°ì²´ì˜ ì†ì„± ì²´í¬ê°€ ê°€ëŠ¥í•˜ë‹¤.

182p. â€œreleaseDatesì˜ íƒ€ì…ì€ (string | Date)[]ê°€ ì•„ë‹ˆë¼ Date[]ì´ì–´ì•¼ í•©ë‹ˆë‹¤.â€

```tsx
type RecordingType = 'studio' | 'live'

interface Album {
  artist: string
  title: string
  releaseDate: Date
  recordingType: RecordingType
}
function pluck<T>(record: T[], key: keyof T) {
  return record.map((r) => r[key])
}
declare let albums: Album[]
const releaseDates = pluck(albums, 'releaseDate') // Type is (string | Date)[]
```

â‡¾â“ ì™œ string | Date ì§€?

â‡¾ `pluck` í•¨ìˆ˜ëŠ” ì œë„¤ë¦­ í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— ëª¨ë“  ê°ì²´ì— ëŒ€í•´ ë™ì‘í•´ì•¼ í•˜ë¯€ë¡œ, `key` ê°’ì„ ì¶”ì¶œí•˜ëŠ” ê²½ìš° ê·¸ ê²°ê³¼ëŠ” í•´ë‹¹ ì†ì„±ì˜ íƒ€ì…ì¸ `Date`ë¿ë§Œ ì•„ë‹ˆë¼, ëª¨ë“  ê°€ëŠ¥í•œ ê°ì²´ì˜ ì†ì„±ì˜ íƒ€ì…ì„ í¬í•¨í•œ ìœ ë‹ˆì˜¨ íƒ€ì…ì´ ë©ë‹ˆë‹¤.

---

## ì•„ì´í…œ 34 ë¶€ì •í™•í•œ íƒ€ì…ë³´ë‹¤ëŠ” ë¯¸ì™„ì„± íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸°

â€œíƒ€ì… ì„ ì–¸ì˜ ì •ë°€ë„ë¥¼ ë†’ì´ëŠ” ì¼ì—ëŠ” ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤.â€

```tsx
// ê²½ë„ì™€ ìœ„ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íŠœí”Œ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸
type GeoPosition = [number, number]
interface Point {
  type: 'Point'
  coordinates: GeoPosition
}
```

- ğŸš¨ ìœ„ì¹˜ ì •ë³´ì—ëŠ” ê³ ë„ê°€ ìˆì„ ìˆ˜ë„ ìˆê³  ë˜ ë‹¤ë¥¸ ì •ë³´ê°€ ì¶”ê°€ë  ìˆ˜ë„ ìˆë‹¤.
- ğŸš¨ ì´ëŸ° ê²½ìš°ì—ëŠ” íƒ€ì… ì„ ì–¸ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ íƒ€ì… ë‹¨ì–¸ë¬¸ì„ ì“°ê±°ë‚˜ `as any`ë¥¼ ì‚¬ìš©í•´ì„œ íƒ€ì… ì²´ì»¤ë¥¼ ë¬´ì‹œí•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ì¢‹ì§€ ì•Šë‹¤.

â‡¾ ìš”ì•½: íƒ€ì…ì´ ì—†ëŠ” ê²ƒë³´ë‹¤ ì˜ëª»ëœ ê²Œ ë” ë‚˜ì˜ë‹¤. ì •í™•í•˜ê²Œ ëª¨ë¸ë§ í•  ìˆ˜ ì—†ë‹¤ë©´ ê·¸ëƒ¥ ëƒ…ë‘ì.

---

## ì•„ì´í…œ 35 ë°ì´í„°ê°€ ì•„ë‹Œ, APIì™€ ëª…ì„¸ë¥¼ ë³´ê³  íƒ€ì… ë§Œë“¤ê¸°

â€œí•µì‹¬ì€, **ì˜ˆì‹œ ë°ì´í„°ê°€ ì•„ë‹ˆë¼ ëª…ì„¸ë¥¼ ì°¸ê³ í•´ íƒ€ì…ì„ ìƒì„±í•œë‹¤ëŠ” ê²ƒ**ì…ë‹ˆë‹¤. ëª…ì„¸ë¥¼ ì°¸ê³ í•´ íƒ€ì…ì„ ìƒì„±í•˜ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì‚¬ìš©ìê°€ ì‹¤ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆê²Œ ë„ì™€ì¤ë‹ˆë‹¤. ë°˜ë©´ì— ì˜ˆì‹œ ë°ì´í„°ë¥¼ ì°¸ê³ í•´ íƒ€ì…ì„ ìƒì„±í•˜ë©´ ëˆˆì•ì— ìˆëŠ” ë°ì´í„°ë“¤ë§Œ ê³ ë ¤í•˜ê²Œ ë˜ë¯€ë¡œ ì˜ˆê¸°ì¹˜ ì•Šì€ ê³³ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.â€

### ëª…ì„¸ë¥¼ ì°¸ê³ í•œ íƒ€ì… ìë™ ìƒì„±

```tsx
interface BoundingBox {
  lat: [number, number]
  lng: [number, number]
}

// geojson ëª…ì„¸ë¥¼ ì‚¬ìš©í•œ ì½”ë“œ
import { Feature, Geometry } from 'geojson'
declare let f: Feature
function helper(coordinates: any[]) {}
const geometryHelper = (g: Geometry) => {
  if (geometry.type === 'GeometryCollection') {
    geometry.geometries.forEach(geometryHelper)
  } else {
    helper(geometry.coordinates) // OK
  }
}

const { geometry } = f
if (geometry) {
  geometryHelper(geometry)
}
```

- ì›ë˜ëŠ” `geometry`ì— `coordinates` ì†ì„±ì´ ìˆëŠ” ê²ƒì€ ë‹¤ì–‘í•˜ë‹¤. ë”°ë¼ì„œ ëª…ì„¸ë¥¼ ë”°ë¥´ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ê°€ ë‚˜ì§€ ì•ŠëŠ” ì½”ë“œë‹¤.
- í•˜ì§€ë§Œ, `GeoJSON`ì€ ë‹¤ì–‘í•œ ë„í˜•ì˜ ëª¨ìŒì¸ `GeometryCollection`ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì§‘í•©ì—ëŠ” `coordinates` ì†ì„±ì´ ì—†ë‹¤.
- ì¡°ê±´ë¬¸ì„ í†µí•´ ì´ë¥¼ í•´ê²°í•´ì£¼ë©´ ëœë‹¤. (`GeometryCollection` íƒ€ì…ì„ ì°¨ë‹¨í•˜ê¸° ë³´ë‹¤ëŠ” í—¬í¼ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë” ì¢‹ë‹¤.)

### GraphQL

- APIì˜ ëª…ì„¸ë¡œë¶€í„°ë„ íƒ€ì…ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
- `GraphQL`ì€ ìì²´ì ìœ¼ë¡œ íƒ€ì…ì´ ì •ì˜ëœ APIë‹¤.
- `GraphQL API`ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì™€ ë¹„ìŠ·í•œ íƒ€ì… ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ì—¬, ê°€ëŠ¥í•œ ëª¨ë“  ì¿¼ë¦¬ì™€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ëª…ì„¸í•˜ëŠ” ìŠ¤í‚¤ë§ˆë¡œ ì´ë£¨ì–´ì§„ë‹¤.
- `GraphQL` ì¿¼ë¦¬ë¥¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ë„êµ¬ë“¤ì´ ë§ì´ ìˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œëŠ” `Apollo`ê°€ ìˆë‹¤.
- **ìë™ìœ¼ë¡œ ìƒì„±ëœ íƒ€ì… ì •ë³´ëŠ” APIë¥¼ ì •í™•íˆ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.**

â‡¾ ìš”ì•½: íƒ€ì… ì•ˆì „ì„±ì„ ìœ„í•´ API ë˜ëŠ” ë°ì´í„° í˜•ì‹ì— ëŒ€í•œ íƒ€ì… ìƒì„±ì„ ê³ ë ¤í•˜ì. ë°ì´í„°ë³´ë‹¤ëŠ” ëª…ì„¸ë¡œë¶€í„° ì½”ë“œë¥¼ ìƒì„±í•˜ì!

---

## ì•„ì´í…œ 36 í•´ë‹¹ ë¶„ì•¼ì˜ ìš©ì–´ë¡œ íƒ€ì… ì´ë¦„ ì§“ê¸°

â€œì—„ì„ ëœ íƒ€ì…, ì†ì„±, ë³€ìˆ˜ì˜ ì´ë¦„ì€ ì˜ë„ë¡ ëª…í™•íˆ í•˜ê³  ì½”ë“œì™€ íƒ€ì…ì˜ ì¶”ìƒí™” ìˆ˜ì¤€ì„ ë†’ì—¬ ì¤ë‹ˆë‹¤. ì˜ëª» ì„ íƒí•œ íƒ€ì… ì´ë¦„ì€ ì½”ë“œì˜ ì˜ë„ë¥¼ ì™œê³¡í•˜ê³  ì˜ëª»ëœ ê°œë…ì„ ì‹¬ì–´ ì£¼ê²Œ ë©ë‹ˆë‹¤.â€

â€œì´ë¦„ì„ ì§€ì„ ë•ŒëŠ” í¬í•¨ëœ ë‚´ìš©ì´ë‚˜ ê³„ì‚° ë°©ì‹ì´ ì•„ë‹ˆë¼ ë°ì´í„° ìì²´ê°€ ë¬´ì—‡ì¸ì§€ë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.â€

```tsx
interface Animal {
  name: string
  endangered: boolean
  habitat: string
}

const leopard: Animal = {
  name: 'Snow Leopard',
  endangered: false,
  habitat: 'tundra',
}
```

- ğŸš¨ `name`ì€ ë§¤ìš° í¬ê´„ì ì´ì–´ì„œ ë¬´ìŠ¨ ì´ë¦„ì„ ëœ»í•˜ëŠ”ì§€ ì•Œê¸° í˜ë“¤ë‹¤.
- ğŸš¨ `endangered` ëŠ” ë©¸ì¢… ìœ„ê¸°ë¥¼ ì˜ë„í•´ ë§Œë“  ì†ì„±ì¸ë°, ì´ë¯¸ ë©¸ì¢…ëœ ë™ë¬¼ì€ `true`ë¡œ í•´ì•¼í•˜ë‚˜? ëª¨í˜¸í•˜ë‹¤.
- ğŸš¨ `habitat` ì†ì„±ì€ string íƒ€ì…ì´ ë„ˆë¬´ ë„“ë‹¤.

```tsx
interface Animal {
  commonName: string
  genus: string
  species: string
  status: ConservationStatus
  climates: KoppenClimate[]
}
type ConservationStatus = 'EX' | 'EW' | 'CR' | 'EN' | 'VU' | 'NT' | 'LC'
type KoppenClimate = 'Af' | 'Am' | 'As' // ... ìƒëµ
const snowLeopard: Animal = {
  commonName: 'Snow Leopard',
  genus: 'Panthera',
  species: 'Uncia',
  status: 'VU', // vulnerable
  climates: ['ET', 'EF', 'Dfd'], // alpine or subalpine
}
```

- `name`ì€ êµ¬ì²´ì ì¸ ìš©ì–´ë¡œ ëŒ€ì²´
- `endangered`ëŠ” ë™ë¬¼ ë³´í˜¸ ë“±ê¸‰ì— ë§ê²Œ ì „ë¬¸ ìš©ì–´ë¡œ ëŒ€ì²´
- `habitat`ì€ ê¸°í›„ë¥¼ ëœ»í•˜ëŠ” `climates`ë¡œ ë³€ê²½, ì¾¨íœ ê¸°í›„ ë¶„ë¥˜ë¥¼ í†µí•´ í‘œí˜„

- `INodeList` ë³´ë‹¤ëŠ” `Directory`ê°€ ë” ì˜ë¯¸ ìˆëŠ” ì´ë¦„ì´ë‹¤. êµ¬í˜„ì˜ ì¸¡ë©´ì´ ì•„ë‹ˆë¼ ê°œë…ì ì¸ ì¸¡ë©´ì—ì„œ ì´ë¦„ì„ ì§€ì–´ì•¼ í•œë‹¤.

â‡¾ ìš”ì•½: ìì²´ì ìœ¼ë¡œ ìš©ì–´ë¥¼ ë§Œë“¤ì§€ ë§ê³  ì „ë¬¸ ìš©ì–´ë“¤ì„ ì‚¬ìš©í•˜ì!

---

## ì•„ì´í…œ 37 ê³µì‹ ëª…ì¹­ì—ëŠ” ìƒí‘œë¥¼ ë¶™ì´ê¸°

â€œê³µì‹ ëª…ì¹­ ê°œë…ì„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í‰ë‚´ ë‚´ë ¤ë©´ â€˜ìƒí‘œ(brand)â€™ë¥¼ ë¶™ì´ë©´ ë©ë‹ˆë‹¤(ë¹„ìœ ë¥¼ ë“¤ìë©´ ìŠ¤íƒ€ë²…ìŠ¤ê°€ ì•„ë‹ˆë¼ ì»¤í”¼). â˜•â€

```tsx
interface Vector2D {
  x: number
  y: number
}
function calculateNorm(p: Vector2D) {
  return Math.sqrt(p.x * p.x + p.y * p.y)
}

calculateNorm({ x: 3, y: 4 }) // OK, result is 5
const vec3D = { x: 3, y: 4, z: 1 }
calculateNorm(vec3D) // OK! result is also 5
```

- ğŸš¨ êµ¬ì¡°ì  íƒ€ì´í•‘ì˜ íŠ¹ì„± ë•Œë¬¸ì— ì½”ë“œê°€ ì´ìƒí•œ ê²°ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆë‹¤.
- ğŸš¨ `Vector2D`ë§Œì„ ìœ„í•œ í•¨ìˆ˜ì¸ë° 3Dë¥¼ ì¸ìë¡œ ë„£ì–´ë„ ë™ì‘í•œë‹¤.

```tsx
interface Vector2D {
  _brand: '2d' // ìƒí‘œ ì‚¬ìš©!
  x: number
  y: number
}

// ë°˜í™˜ íƒ€ì…ì„ Vector2Dë¡œ ì¡ì•„ë²„ë¦¬ê¸°!
function vec2D(x: number, y: number): Vector2D {
  return { x, y, _brand: '2d' } // _brandê°€ ë“¤ì–´ ìˆëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
}

// ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ Vector2Dë¡œ ë°›ì•„ë²„ë¦¬ê¸°!
function calculateNorm(p: Vector2D) {
  return Math.sqrt(p.x * p.x + p.y * p.y)
}

// ê¸°ì¡´ê³¼ ë‹¤ë¥´ê²Œ í•¨ìˆ˜ë¡œ í˜¸ì¶œí•œë‹¤.
calculateNorm(vec2D(3, 4)) // OK, returns 5
const vec3D = { x: 3, y: 4, z: 1 }
calculateNorm(vec3D)
// ~~~~~ Property '_brand' is missing in type...
```

- ë¬¼ë¡  `Vec3D` ê°’ì— `_brand: â€˜2dâ€™`ë¥¼ ì¶”ê°€í•˜ë©´ í°ì¼ì´ ë‚˜ê² ì§€ë§Œ, ê·¸ëŸ´ ê°€ëŠ¥ì„±ì€ í¬ë°•í•˜ë‹¤.
- ìƒí‘œ ê¸°ë²•ì€ íƒ€ì… ì‹œìŠ¤í…œì´ê¸° ë•Œë¬¸ì— ëŸ°íƒ€ì„ ì˜¤ë²„í—¤ë“œë¥¼ ì—†ì•¨ ìˆ˜ ìˆë‹¤.

```tsx
// ì´ì§„ ê²€ìƒ‰ ì˜ˆì‹œ
type SortedList<T> = T[] & { _brand: 'sorted' }

function isSorted<T>(xs: T[]): xs is SortedList<T> {
  for (let i = 1; i < xs.length; i++) {
    if (xs[i] > xs[i - 1]) {
      return false
    }
  }
  return true
}

function binarySearch<T>(xs: SortedList<T>, x: T): boolean {
  // COMPRESS
  return true
  // END
}
```

- ìƒí‘œ ê¸°ë²•ì„ ì‚¬ìš©í•´ ì •ë ¬ë˜ì–´ ìˆë‹¤ëŠ” ì˜ë„ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.
- ë£¨í”„ë¥¼ ë„ëŠ” ê²Œ íš¨ìœ¨ì ì´ì§€ëŠ” ì•Šì§€ë§Œ ì•ˆì „ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.

- `number` íƒ€ì…ì—ë„ ìƒí‘œë¥¼ ë¶™ì¼ ìˆ˜ ìˆì§€ë§Œ, ì‚°ìˆ  ì—°ì‚° í›„ì—ëŠ” ìƒí‘œê°€ ì—†ì–´ì ¸ì„œ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” ë¬´ë¦¬ê°€ ìˆë‹¤.
- ê·¸ëŸ¬ë‚˜ ì½”ë“œì— ì—¬ëŸ¬ ë‹¨ìœ„ê°€ í˜¼í•©ë˜ì—ˆì„ ê²½ìš°, ìˆœìì˜ ë‹¨ìœ„ë¥¼ ë¬¸ì„œí™”í•˜ëŠ” ê´œì°®ì€ ë°©ë²•ì¼ ìˆ˜ ìˆë‹¤.

â‡¾ ìš”ì•½: êµ¬ì¡°ì  íƒ€ì´í•‘ìœ¼ë¡œ ì¸í•´ ì˜ë„ì¹˜ ì•Šì€ ê²°ê³¼ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ìƒí‘œ ê¸°ë²•ì„ ê³ ë ¤í•´ë³´ì!

ìƒí‘œ ê¸°ë²•ì€ íƒ€ì… ì‹œìŠ¤í…œì—ì„œ ë™ì‘í•˜ì§€ë§Œ ëŸ°íƒ€ì„ì— ìƒí‘œë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.
