### 2023.08.14~17 ì•„ì´í…œ28~37

## 4ì¥ íƒ€ì… ì„¤ê³„

**íƒ€ì… ì„¤ê³„ë¥¼ ì´í•´í•˜ê³  íƒ€ì…ì„ ì œëŒ€ë¡œ ì‘ì„±**í•œë‹¤ë©´,<br>
**í…Œì´ë¸”(ì½”ë“œì˜ íƒ€ì…)** ê³¼ **ìˆœì„œë„(ì½”ë“œì˜ ë¡œì§)** ì„ **ì‰½ê²Œ ì´í•´**í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

### ì•„ì´í…œ 28 ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•˜ê¸°

---

- íš¨ê³¼ì ìœ¼ë¡œ íƒ€ì…ì„ ì„¤ê³„í•˜ë ¤ë©´, **ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” íƒ€ì…**ì„ ë§Œë“¤ì–´ ë‚´ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤.

- **ìƒíƒœë¥¼ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ë§Œë“¤ ë•ŒëŠ” ìœ íš¨í•œ íƒ€ì…ë§Œì„ ê°€ì§€ê³ ** ìˆì–´ì•¼ í•œë‹¤.
  > ì˜ˆì‹œ<br>
  > State íƒ€ì…ì—ëŠ” aì™€ b ì†ì„±ì€ ë°˜ë“œì‹œ ìˆê³ , cì™€ d ì†ì„±ì€ ì„ íƒì ì¸ ì†ì„±ì´ë‹¤.<br>
  > ê·¸ë¦¬ê³  State íƒ€ì…ì€ 3ê°€ì§€ ìƒíƒœê°€ ìˆë‹¤ê³  ê°€ì •(One / Two / Three)

1. **ì§€ì–‘**í•´ì•¼ í•  ë°©ì‹ (**ì†ì„±ì— ì¤‘ì **ì„ ë‘” íƒ€ì… ì •ì˜)<br>
   -> ì´ ë°©ë²•ì€ One / Two / Three ìƒíƒœê°€ ì•„ë‹Œ ë‹¤ë¥¸ ìƒíƒœ(ë¬´íš¨í•œ ìƒíƒœ)ë„ í—ˆìš©í•œë‹¤.

```ts
interface State {
  a: string;
  b: string;
  c?: string;
  d?: string;
}
```

2. **ì§€í–¥**í•´ì•¼ í•  ë°©ì‹ (**ìƒíƒœì— ì¤‘ì **ì„ ë‘” íƒ€ì… ì •ì˜)<br>
   -> ì½”ë“œëŠ” ê¸¸ì–´ì§€ì§€ë§Œ, ë¬´íš¨í•œ ìƒíƒœë¥¼ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

```ts
interface StateOne {
  a: string;
  b: string;
}

interface StateTwo {
  a: string;
  b: string;
  c: string;
}

interface StateThree {
  a: string;
  b: string;
  d: string;
}

type State = StateOne | StateTwo | StateThree;
```

ğŸ¯ **ìš”ì•½**

> **ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•˜ì**

### ì•„ì´í…œ 29 ì‚¬ìš©í•  ë•ŒëŠ” ë„ˆê·¸ëŸ½ê²Œ, ìƒì„±í•  ë–„ëŠ” ì—„ê²©í•˜ê²Œ

---

- ë³´í†µ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì€ ë°˜í™˜ íƒ€ì…ì— ë¹„í•´ ë²”ìœ„ê°€ ë„“ì€ ê²½í–¥ì´ ìˆë‹¤.<br>
  -> ì„ íƒì  ì†ì„±ê³¼ ìœ ë‹ˆì˜¨ íƒ€ì…ì€ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì—ì„œ ì‚¬ìš©í•˜ì.

- **ë°˜í™˜ íƒ€ì…ì€ ê¸°ë³¸ í˜•íƒœ**ë¡œ, **ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì€ ëŠìŠ¨í•œ í˜•íƒœ**ë¡œ ë§Œë“¤ì.

```ts
// viewportForBounds: Aí•¨ìˆ˜, setCamera: Bí•¨ìˆ˜
// Aë¼ëŠ” í•¨ìˆ˜ì˜ ë°˜í™˜ ê°’ì´ Bë¼ëŠ” í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¡œì¨ ë°”ë¡œ ì‚½ì…ë  ë•Œ,
// Aì˜ ë°˜í™˜ ê°’ì˜ íƒ€ì…ì€ ì—„ê²©í•˜ê³ , B í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ëŠ” ìœ ì—°í•˜ê²Œ í•˜ì
interface LngLat {
  lng: number;
  lat: number;
}
type LngLatLike = LngLat | { lon: number; lat: number } | [number, number];

interface Camera {
  center: LngLat;
  zoom: number;
  bearing: number;
  pitch: number;
}
interface CameraOptions extends Omit<Partial<Camera>, 'center'> {
  center?: LngLatLike;
}
type LngLatBounds =
  | { northeast: LngLatLike; southwest: LngLatLike }
  | [LngLatLike, LngLatLike]
  | [number, number, number, number];

declare function setCamera(camera: CameraOptions): void; //B
declare function viewportForBounds(bounds: LngLatBounds): Camera; //A
```

ğŸ¯ **ìš”ì•½**

> **ë§¤ê°œë³€ìˆ˜ì™€ ë°˜í™˜ íƒ€ì…ì˜ ì¬ì‚¬ìš©ì„ ìœ„í•´ ê¸°ë³¸ í˜•íƒœì™€ ëŠìŠ¨í•œ í˜•íƒœë¥¼ ë„ì…í•˜ì**

### ì•„ì´í…œ 30 ë¬¸ì„œì— íƒ€ì… ì •ë³´ë¥¼ ì“°ì§€ ì•Šê¸°

---

- íŠ¹ì • ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ëª…í•˜ê³  ì‹¶ë‹¤ë©´ JSDocì˜ `@param` êµ¬ë¬¸ ì‚¬ìš©

- ì£¼ì„ê³¼ ë³€ìˆ˜ëª…ì— íƒ€ì… ì •ë³´ë¥¼ ì ëŠ” ê²ƒì„ í”¼í•˜ì

```ts
// 1. ì£¼ì„ì— íƒ€ì… ì •ë³´ ì§€ì–‘
// bad
/** numsë¥¼ ë³€ê²½í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. */
function sort(nums: number[]) {
  /*...*/
}

// good
function sort(nums: readonly number[]) {
  /*...*/
}

// 2. ë³€ìˆ˜ëª…ì— íƒ€ì… ì •ë³´ ì§€ì–‘
// bad
const ageNum = 30;

// good
const age = 30;
```

- ë‹¨ìœ„ê°€ ìˆëŠ” ìˆ«ìë“¤ì€ ì˜ˆì™¸

```ts
// bad
1. time
2. temperature

// good
1. timeMs
2. temperatureC

```

ğŸ¯ **ìš”ì•½**

> **ì£¼ì„ê³¼ ë³€ìˆ˜ëª…ì— íƒ€ì… ì •ë³´ë¥¼ ì ëŠ” ê²ƒì„ í”¼í•˜ì**

### ì•„ì´í…œ 31 íƒ€ì… ì£¼ë³€ì— null ê°’ ë°°ì¹˜í•˜ê¸°

---

- `strictNullChecks`ë¥¼ ê¼­ ì‚¬ìš©í•˜ì <br>
  -> nullì´ë‚˜ undefined ë“± ê´€ë ¨ëœ ë¬¸ì œì ì„ ì°¾ì•„ë‚¼ ìˆ˜ ìˆë‹¤.

- **ê°’ì´ ì „ë¶€ null ì´ê±°ë‚˜ ì•„ë‹ˆê±°ë‚˜**ë¡œ êµ¬ë¶„í•˜ì<br>
  -> íƒ€ì…ì— nullì„ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ëª¨ë¸ë§ ê°€ëŠ¥

```ts
// 1. null ì•„ë‹˜ ë‹¨ì–¸(!)ì„ ì‚¬ìš© í•˜ì—¬ min, max ì–»ê¸°
function extent(nums: number[]) {
  let result: [number, number] | null = null;
  for (const num of nums) {
    if (!result) {
      result = [num, num];
    } else {
      result = [Math.min(num, result[0]), Math.max(num, result[1])];
    }
  }
  return result;
}
const [min, max] = extent([0, 1, 2])!;
// min, maxëŠ” number íƒ€ì…
const span = max - min; // number íƒ€ì… ok

// 2. ifë¬¸ ì²´í¬
function extent(nums: number[]) {
  let result: [number, number] | null = null;
  for (const num of nums) {
    if (!result) {
      result = [num, num];
    } else {
      result = [Math.min(num, result[0]), Math.max(num, result[1])];
    }
  }
  return result;
}
const range = extent([0, 1, 2]);
if (range) {
  const [min, max] = range; // range: [number, number]
  const span = max - min; // number íƒ€ì… ok
}
```

- **API ì‘ì„± ì‹œ**ì—ëŠ” ë°˜í™˜ íƒ€ì…ì„ í° ê°ì²´ë¡œ ë§Œë“¤ê³ , **ë°˜í™˜ íƒ€ì… ì „ì²´ê°€ nullì´ê±°ë‚˜ nullì´ ì•„ë‹ˆê²Œ** ë§Œë“¤ì–´ì•¼ í•œë‹¤.

```ts
interface ApiResponse<T> {
  data: T | null;
  message: string;
}
```

- **í´ë˜ìŠ¤**ë¥¼ ë§Œë“¤ ë•ŒëŠ” í•„ìš”í•œ **ëª¨ë“  ê°’ì´ ì¤€ë¹„ë˜ì—ˆì„ ë•Œ ìƒì„±í•˜ì—¬ nullì´ ì¡´ì¬í•˜ì§€ ì•Šë„ë¡ í•˜ì**<br>
  -> ì†ì„±ê°’ì˜ ë¶ˆí™•ì‹¤ì„±ì´ í´ë˜ìŠ¤ì˜ ëª¨ë“  ë©”ì„œë“œì— ë‚˜ìœ ì˜í–¥ì„ ë¯¸ì¹œë‹¤.

```ts
// bad
// ë‘ ë²ˆì˜ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ë¡œë“œë˜ëŠ” ë™ì•ˆ userì™€ posts ì†ì„±ì€ null ìƒíƒœ
// ì´ ë„¤ê°€ì§€ ê²½ìš°ì˜ ìˆ˜ ìƒê¹€
// -> ì†ì„±ê°’ì˜ ë¶ˆí™•ì‹¤ì„±ì´ í´ë˜ìŠ¤ì˜ ëª¨ë“  ë©”ì„œë“œì— ë‚˜ìœ ì˜í–¥ì„ ë¯¸ì¹œë‹¤.
class UserPosts {
  user: UserInfo | null;
  posts: Post[] | null;
  constructor() {
    this.user = null;
    this.posts = null;
  }

  async init(userId: string) {
    return Promise.all([
      async () => (this.user = await fetchUser(userId)),
      async () => (this.posts = await fetchPostsForUser(userId)),
    ]);
  }
  getUserName() {
    // ... ?
  }
}

// good
// í•„ìš”í•œ ë°ì´í„°ê°€ ëª¨ë‘ ì¤€ë¹„ëœ í›„ì— í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì
class UserPosts {
  user: UserInfo;
  posts: Post[];
  constructor(user: UserInfo, posts: Post[]) {
    this.user = user;
    this.posts = posts;
  }

  static async init(userId: string): Promise<UserPosts> {
    const [user, posts] = await Promise.all([
      fetchUser(userId),
      fetchPostsForUser(userId),
    ]);
    return new UwerPosts(user, posts);
  }
  getUserName() {
    return this.user.name;
  }
}

// nullì¸ ê²½ìš°ê°€ í•„ìš”í•œ ì†ì„±ì€ í”„ë¡œë¯¸ìŠ¤ë¡œ ë°”ê¾¸ë©´ ì•ˆëœë‹¤.
// gptì™ˆ
// -> í”„ë¡œë¯¸ìŠ¤ ê·¸ ìì²´ë¡œ null ê°’ì„ ë°˜í™˜í•˜ì§€ ì•ŠìŒ(resolve or reject ë°˜í™˜)
// -> ë°˜í™˜ íƒ€ì…ì´ ì „ì²´ê°€ nullì¸ ê²½ìš°ì—ëŠ” ì§ì ‘ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ìœ ë‹ˆì˜¨ íƒ€ì… ì‚¬ìš©
```

ğŸ¯ **ìš”ì•½**

> **ì „ë¶€ nullì´ê±°ë‚˜ ì „ë¶€ nullì´ ì•„ë‹ˆê±°ë‚˜**

### ì•„ì´í…œ 32 ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•˜ê¸°

---

- ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ëŠ” **ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨**ì„ ì‚¬ìš©í•˜ì

- **íƒœê·¸ëœ ìœ ë‹ˆì˜¨**ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì²´ì»¤ì™€ ì˜ ë§ê³ , ìì£¼ ë“±ì¥í•˜ë‹ˆ íŒ¨í„´ì„ ê¸°ì–µí•˜ì.
- íƒœê·¸ëœ ìœ ë‹ˆì˜¨ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ë©´, í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

1. ê° í•„ë“œê°€ ì—°ê´€ë˜ì–´ íŠ¹ì •ë  ê²½ìš°
   > ex) LineLayoutì€ LinePaintê°€ í•„ìš”

```ts
// ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤
interface Layer {
  type: 'fill' | 'line' | 'point';
  layout: FillLayout | LineLayout | PointLayout;
  paint: FillPaint | LinePaint | PointPaint;
}

// ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨
interface FillLayer {
  type: 'fill'; // íƒœê·¸ëœ ìœ ë‹ˆì˜¨
  layout: FillLayout;
  paint: FillPaint;
}
interface LineLayer {
  type: 'line';
  layout: LineLayout;
  paint: LinePaint;
}
interface PointLayer {
  type: 'point';
  layout: PointLayout;
  paint: PointPaint;
}

type Layer = FillLayer | LineLayer | PointLayer;
```

-> `type` ì†ì„±ì€ `íƒœê·¸`ë¡œ ëŸ°íƒ€ì„ì— ì–´ë–¤ íƒ€ì…ì˜ Layerê°€ ì‚¬ìš©ë˜ëŠ”ì§€ íŒë‹¨í•˜ëŠ”ë° ì“´ë‹¤.

- ì—¬ëŸ¬ ê°œì˜ ì„ íƒì  í•„ë“œê°€ **ë™ì‹œì— ê°’ì´ ìˆê±°ë‚˜ ë™ì‹œì— ì—†ëŠ”(undefined) ì¸ ê²½ìš°**ì—ë„ ì˜ ì“°ì¸ë‹¤.

```ts
interface Person {
  name: string;
  // ë‹¤ìŒì€ ë‘˜ ë‹¤ ë™ì‹œì— ìˆê±°ë‚˜ ë™ì‹œì— ì—†ë‹¤.
  placeOfBirth?: string;
  dateOfBirth?: string;
}

// ë‘ ê°œì˜ ì†ì„±ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ëª¨ìœ¼ì
// birthë¥¼ ë§ˆì¹˜ íƒœê·¸ì²˜ëŸ¼ ì‚¬ìš©
interface Person {
  name: string;
  birth?: {
    place: string;
    date: Date;
  };
}

// ??? ê°ì²´ì˜ êµ¬ì¡°ë¥¼ ë°”ê¾¸ê³  ì‹¶ì€ë°, ì†ëŒˆ ìˆ˜ ì—†ì„ ë•Œ
// ì–´ë–¤ê²Œ?
// -> ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©
interface Name {
  name: string;
}
interface PersonWithBirth extends Name {
  placeOfBirth: string;
  dateOfBirth: Date;
}
type Person = Name | PersonWithBirth;
```

ğŸ¯ **ìš”ì•½**

> **ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•˜ê³ , íƒœê·¸ëœ ìœ ë‹ˆì˜¨ íŒ¨í„´ì„ ìµíˆì**

### ì•„ì´í…œ 33 string íƒ€ì…ë³´ë‹¤ ë” êµ¬ì²´ì ì¸ íƒ€ì… ì‚¬ìš©í•˜ê¸°

---

- **ë¬¸ìì—´ì„ ë‚©ë°œí•˜ì—¬ ì„ ì–¸ëœ ì½”ë“œë¥¼ í”¼í•˜ì** <br>
  -> `string` íƒ€ì…ë³´ë‹¨ êµ¬ì²´í™”ëœ íƒ€ì…ì„ ì‚¬ìš©í•˜ì

```ts
// string íƒ€ì… ë‚¨ë°œ
// bad
interface Album {
  artist: string;
  title: string;
  releaseDate: string; // YYYY-MM-DD
  recordingType: string; // E.g., "live" or "studio"
}

// Dateê°ì²´ì™€ ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ íƒ€ì…ì˜ ë²”ìœ„ ì¢íˆê¸°
// good
type RecordingType = 'studio' | 'live';

interface Album {
  artist: string;
  title: string;
  releaseDate: Date;
  recordingType: RecordingType;
}
```

- ì´ëŸ¬í•œ ë°©ì‹ì˜ ì¥ì <br>
  **1. ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•¨ìœ¼ë¡œì¨ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ê°’ì´ ì „ë‹¬ë˜ì–´ë„ íƒ€ì… ì •ë³´ê°€ ìœ ì§€ë¨**

```ts
type RecordingType = 'studio' | 'live';

function getAlbumsOfType(recordingType: string): Album[] {
  // ...
}
/* getAlbumsOfTypeì—ì„œëŠ” ì•„ë¬´ëŸ° íƒ€ì…ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ì§€ë§Œ RecordingTypeì„ í†µí•´ ì •ì˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. */
```

**2. íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ê³  í•´ë‹¹ íƒ€ì…ì˜ ì˜ë¯¸ë¥¼ ì„¤ëª…í•˜ëŠ” ì£¼ì„ì„ ë¶™ì—¬ ë„£ì„ ìˆ˜ ìˆë‹¤.**

```ts
/**  ì´ ë…¹ìŒì´ ì–´ë–¤ í™˜ê²½ì—ì„œ ì´ë£¨ì–´ ì¡ŒëŠ”ì§€ í™•ì¸í•˜ëŠ” íƒ€ì… */
type RecordingType = 'live' | 'studio';
```

**3. `keyof` ì—°ì‚°ìë¡œ ë”ìš± ì„¸ë°€í•˜ê²Œ ê°ì²´ì˜ ì†ì„± ì²´í¬ê°€ ê°€ëŠ¥í•˜ë‹¤.**

```ts
function pluck(records: any[], key: string): any[] {
  return records.map((r) => r[key]);
}
/* any íƒ€ì…ì´ ìˆì–´ì„œ ì •ë°€í•˜ì§€ ëª»í•¨. 
íŠ¹íˆë‚˜ return íƒ€ì…ì´ anyê°€ ì‚¬ìš©ë˜ì–´ ì¢‹ì§€ ì•Šì€ ì„¤ê³„ */

// 1. ì œë„ˆë¦­ íƒ€ì… ë„ì… -> keyì˜ ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ì–´ ì˜¤ë¥˜ê°€ ë°œìƒ
function pluck<T>(records: T[], key: string): any[] {
  return records.map((r) => r[key]);
  // ~~~~~~ '{}' í˜•ì‹ì— ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ê°€ ì—†ìœ¼ë¯€ë¡œ
  //       ìš”ì†Œì— ì•”ì‹œì ìœ¼ë¡œ 'any' í˜•ì‹ì´ ìˆìŠµë‹ˆë‹¤.
}

// 2. keyëŠ” "artist" | "title" | "releaseDate" | "recordingType" ë§Œ ìœ íš¨í•´ì•¼ í•¨

type RecordingType = 'studio' | 'live';

interface Album {
  artist: string;
  title: string;
  releaseDate: Date;
  recordingType: RecordingType;
}

type K = keyof Album; // íƒ€ì…ì´ "artist" | "title" | "releaseDate" | "recordingType"

// keyì˜ íƒ€ì…ì„ string -> keyof Të¡œ ë³€ê²½
function pluck<T>(records: T[], key: keyof T) {
  return record.map((r) => r[key]);
}

declare let albums: Album[];
const releaseDates = pluck(albums, 'releaseDate'); // íƒ€ì…ì´ (string | Date)[]
//releaseDates  Date[]ì—¬ì•¼ í•¨

// 2. keyof Tì˜ ë¶€ë¶„ ì§‘í•©ìœ¼ë¡œ ë‘ë²ˆ ì§¸ ì œë„ˆë¦­ ë„ì…
function pluck<T, K extends keyof T>(records: T[], key: K): T[K][] {
  return record.map((r) => r[key]);
}
// íƒ€ì… ì‹œê·¸ë‹ˆì²˜ ì™„ë²½
```

ğŸ¯ **ìš”ì•½**

> **string íƒ€ì…ë³´ë‹¤ëŠ” êµ¬ì²´ì ì¸ íƒ€ì…ì„ ì‚¬ìš©í•˜ì**

### ì•„ì´í…œ 34 ë¶€ì •í™•í•œ íƒ€ì…ë³´ë‹¤ëŠ” ë¯¸ì™„ì„± íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸°

---

- **íƒ€ì…ì„ êµ¬ì²´ì ìœ¼ë¡œ ì •ì˜í•œë‹¤ê³  í•´ì„œ ì •í™•ë„ê°€ ë¬´ì¡°ê±´ ì˜¬ë¼ê°€ì§€ ì•ŠëŠ”ë‹¤.**

- **ì–¸ì–´ ì„œë¹„ìŠ¤**ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê²½í—˜ì—ì„œ ì¤‘ìš”í•œ ë¶€ë¶„ì´ë¯€ë¡œ, <br>íƒ€ì…ì„ ì–¸ìœ¼ë¡œ ì¸í•œ **ì˜¤ë¥˜ ë©”ì‹œì§€**ë¥¼ ì‚´í´ë³´ê³  íƒ€ì… ì„ ì–¸ì´ ë™ì‘í•´ì•¼ í•˜ëŠ” ê³³ì—ëŠ” **ìë™ ì™„ì„±**ì„ ì ìš©í•˜ì.

- `any`ì™€ `unknown`ì„ êµ¬ë³„í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

  > **1. any**
  >
  > - ëª¨ë“  íƒ€ì…ì„ í—ˆìš©í•œë‹¤.
  > - TypeScriptì—ì„œ íƒ€ì… ê²€ì‚¬ë¥¼ ëŠìŠ¨í•˜ê²Œ í•˜ë¯€ë¡œ ê°œë°œ ë‹¹ì‹œì—ëŠ” ë¬¸ì œê°€ ì—†ìœ¼ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ì›¹ í˜ì´ì§€ ê°œë°œ í›„ ì˜ˆê¸°ì¹˜ ëª»í•œ ë¬¸ì œê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë†’ë‹¤.<br>

  > **2. unknown**
  >
  > - ëª¨ë“  íƒ€ì…ì„ í—ˆìš©í•œë‹¤.
  > - any íƒ€ì…ê³¼ëŠ” ë‹¤ë¥´ê²Œ í”„ë¡œí¼í‹° ë˜ëŠ” ì—°ì‚°í•˜ëŠ” ê²½ìš° ì»´íŒŒì¼ëŸ¬ê°€ ì²´í¬í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë¬¸ì œ ë˜ëŠ” ì½”ë“œë¥¼ ë¯¸ë¦¬ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤.

ğŸ¯ **ìš”ì•½**

> **íƒ€ì…ì„ êµ¬ì²´ì ìœ¼ë¡œ ì •ì˜í•  ë•Œ, ë¶€ì •í™•í•œ íƒ€ì…ì´ ë˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì**

### ì•„ì´í…œ 35 ë°ì´í„°ê°€ ì•„ë‹Œ, APIì™€ ëª…ì„¸ë¥¼ ë³´ê³  íƒ€ì… ë§Œë“¤ê¸°

---

- íŒŒì¼ í˜•ì‹, API, ëª…ì„¸ ë“±ì€ í”„ë¡œì íŠ¸ ì™¸ë¶€ì—ì„œ ë¹„ë¡¯ëœ ê²ƒì´ë‹¤.<br>
  -> ì´ëŸ¬í•œ ê²½ìš°ëŠ” íƒ€ì…ì„ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šê³  ìë™ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

- **ëª…ì„¸**ë¥¼ ì°¸ê³ í•´ íƒ€ì…ì„ ìƒì„±í•˜ì

1. [Definitely Typed] (https://github.com/DefinitelyTyped/DefinitelyTyped) ì— ì €ì¥ëœ íƒ€ì…ì€ ë‹¤ìš´ë°›ì•„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

2. [Graphql Code Generator](https://github.com/dotansimha/graphql-code-generator) íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì™€ ë¹„ìŠ·í•œ íƒ€ì… ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ëŠ” GraphQL APIëŠ” ì¿¼ë¦¬ë¥¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ìœ¼ë¡œ ìë™ ì¶”ì¶œí•´ì£¼ëŠ” ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤.

3. [quickType](https://quicktype.io/) ê°™ì€ ë„êµ¬ë¡œ ë°ì´í„°ë¡œë¶€í„° íƒ€ì…ì„ ìƒì„±í•  ìˆ˜ ìˆì§€ë§Œ ì™„ë²½í•˜ê²Œ ì¼ì¹˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

4. ë¸Œë¼ìš°ì € DOM APIì— ëŒ€í•œ íƒ€ì… ì„ ì–¸ì€ IDEì— í¬í•¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì˜ ì‚¬ìš©í•˜ì.

ğŸ¯ **ìš”ì•½**

> **ëª…ì„¸ë¥¼ ì°¸ê³ í•´ íƒ€ì…ì„ ìƒì„±í•˜ì**

### ì•„ì´í…œ 36 í•´ë‹¹ ë¶„ì•¼ì˜ ìš©ì–´ë¡œ íƒ€ì… ì´ë¦„ ì§“ê¸°

---

- **íƒ€ì…ì˜ ì´ë¦„ì„ ì§“ëŠ” ê²ƒì€ ì„¤ê³„ì—ì„œ ì¤‘ìš”í•˜ë‹¤.**<br>
  -> ì—„ì„ ëœ íƒ€ì…, ì†ì„±, ë³€ìˆ˜ì˜ ì´ë¦„ì€ **ì˜ë„ë¥¼ ëª…í™•íˆ í•˜ê³  ì½”ë“œì™€ íƒ€ì…ì˜ ì¶”ìƒí™” ìˆ˜ì¤€ì„ ë†’ì—¬ì¤€ë‹¤.**

```ts
// bad
interface Animal {
  name: string;
  endangered: boolean;
  habitat: string;
}
const leopard: Animal = {
  name: 'Snow Leopard',
  endangered: false,
  habitat: 'tundra',
};

// ì „ë¬¸ ìš©ì–´ë“¤ì´ ì‚¬ìš©
// good
interface Animal {
  commonName: string;
  genus: string;
  species: string;
  status: ConservationStatus;
  climates: KoppenClimate[];
}
type ConservationStatus = 'EX' | 'EW' | 'CR' | 'EN' | 'VU' | 'NT' | 'LC';
type KoppenClimate = 'Af' | 'Am' | 'As';

const snowLeopard: Animal = {
  commonName: 'Snow Leopard',
  genus: 'Panthera',
  species: 'Uncia',
  status: 'VU',
  climates: ['Af', 'Am'],
};
```

- ì½”ë“œë¡œ í‘œí˜„í•˜ê³ ì í•˜ëŠ” **ëª¨ë“  ë¶„ì•¼ì—ëŠ” ì£¼ì œë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•œ ì „ë¬¸ ìš©ì–´ë“¤ì´ ìˆë‹¤.**<br>
  -> ë§Œë“¤ì–´ ë‚´ì§€ ë§ê³ , **ì´ë¯¸ ì¡´ì¬í•˜ëŠ”** ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ì

- **íƒ€ì…, ì†ì„±, ë³€ìˆ˜ì— ì´ë¦„ì„ ë¶™ì¼ ë•Œ 3ê°€ì§€ ê·œì¹™**

1. ë™ì¼í•œ ì˜ë¯¸ë¥¼ ë‚˜íƒ€ë‚¼ ë•ŒëŠ” **ê°™ì€ ìš©ì–´ë¥¼ ì‚¬ìš©**í•˜ì

2. `data, info, thing, item, object, entity` ê°™ì€ ëª¨í˜¸í•˜ê³  ì˜ë¯¸ ì—†ëŠ” ì´ë¦„ì„ í”¼í•˜ì
3. ì´ë¦„ì„ ì§€ì„ ë•ŒëŠ” **ë°ì´í„° ìì²´ê°€ ë¬´ì—‡ì¸ì§€** ê³ ë ¤í•˜ì
   > ì˜ˆì‹œ) INodeList ë³´ë‹¤ëŠ” Directoryê°€ ë” ì˜ë¯¸ ìˆëŠ” ì´ë¦„

ğŸ¯ **ìš”ì•½**

> **ê°€ë…ì„±ê³¼ ì¶”ìƒí™” ìˆ˜ì¤€ì„ ë†’ì´ê¸° ìœ„í•´ ì „ë¬¸ ìš©ì–´ë¥¼ ì •í™•í•˜ê²Œ ì‚¬ìš©í•˜ì**

### ì•„ì´í…œ 37 ê³µì‹ ëª…ì¹­ì—ëŠ” ìƒí‘œë¥¼ ë¶™ì´ê¸°

---

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” êµ¬ì¡°ì  íƒ€ì´í•‘ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, ê°’ì„ ì„¸ë°€í•˜ê²Œ êµ¬ë¶„í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.<br>
  -> ê°’ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ **ìƒí‘œë¥¼ ë¶™ì´ëŠ” ê²ƒ**ì„ ê³ ë ¤í•˜ì

- **ìƒí‘œ ê¸°ë²•**
  > - íƒ€ì… ì‹œìŠ¤í…œì—ì„œ ë™ì‘í•˜ì§€ë§Œ, ëŸ°íƒ€ì„ì— ìƒí‘œë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.
  > - íƒ€ì… ì‹œìŠ¤í…œì´ê¸° ë•Œë¬¸ì—, ëŸ°íƒ€ì„ ì˜¤ë²„í—¤ë“œë¥¼ ì—†ì•¤ë‹¤.
  > - ì¶”ê°€ ì†ì„±ì„ ë¶™ì¼ ìˆ˜ ì—†ëŠ” `string`ì´ë‚˜ `number` ê°™ì€ ë‚´ì¥ íƒ€ì…ë„ ìƒí‘œí™” ê°€ëŠ¥

**1. string ì—ì„œì˜ ìƒí‘œ ê¸°ë²•**

```ts
// ëŸ°íƒ€ì„ì— ì ˆëŒ€ ê²½ë¡œ('/')ë¡œ ì‹œì‘í•˜ëŠ”ì§€ ì²´í¬í•˜ê¸° ì‰½ì§€ë§Œ,
// íƒ€ì… ì‹œìŠ¤í…œì—ì„œëŠ” ì ˆëŒ€ ê²½ë¡œë¥¼ íŒë‹¨í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— ìƒí‘œ ê¸°ë²• ì‚¬ìš©
type AbsolutePath = string & { _brand: 'abs' };
function listAbsolutePath(path: AbsolutePath) {
  // ...
}
function isAbsolutePath(path: string): path is AbsolutePath {
  return path.startsWith('/');
}
function f(path: string) {
  if (isAbsolutePath(path)) {
    listAbsolutePath(path);
  }
  listAbsolutePath(path);
  // ~~~~ 'string' í˜•ì‹ì˜ ì¸ìˆ˜
  //      AbsolutePath' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
}
```

**2. íƒ€ì… ì‹œìŠ¤í…œ ë‚´ì—ì„œ í‘œí˜„í•  ìˆ˜ ì—†ëŠ” ìˆ˜ë§ì€ ì†ì„±ë“¤ì„ ëª¨ë¸ë§í•  ìˆ˜ ìˆë‹¤.**

```ts
// ì´ì§„ ê²€ìƒ‰ì€ ì´ë¯¸ ì •ë ¬ëœ ìƒíƒœë¥¼ ê°€ì •í•˜ê¸° ë•Œë¬¸ì—, ëª©ë¡ì´ ì •ë ¬ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ ì˜ëª»ëœ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.
function binarySearch<T>(xs: T[], x: T): boolean {
  let low = 0,
    high = xs.length - 1;
  while (high >= low) {
    const mid = low + Math.floor((high - low) / 2);
    const v = xs[mid];
    if (v === x) return true;
    [low, high] = x > v ? [mid + 1, high] : [low, mid - 1];
  }
  return false;
}

// íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì‹œìŠ¤í…œì—ì„œëŠ” ëª©ë¡ì´ ì •ë ¬ë˜ì–´ ìˆë‹¤ëŠ” ì˜ë„ë¥¼ í‘œí˜„í•˜ê¸° ì–´ë µë‹¤.
// ìƒí‘œ ê¸°ë²•ì„ ì‚¬ìš©í•´ ë³´ì.
type SortedList<T> = T[] & { _brand: 'sorted' };

function isSorted<T>(xs: T[]): xs is SortedList<T> {
  for (let i = 1; i < xs.length; i++) {
    if (xs[i] < xs[i - 1]) return false;
  }
  return true;
}
function binarySearch<T>(xs: SortedList[], x: T): boolean {}
```

**3. number íƒ€ì…ì—ë„ ê°€ëŠ¥. ìˆ«ìì˜ ë‹¨ìœ„ë¥¼ ë¬¸ì„œí™”í•  ìˆ˜ ìˆë‹¤.**

```ts
/* ì‚°ìˆ  ì—°ì‚° í›„ì—ëŠ” ìƒí‘œê°€ ì—†ì–´ì§€ê¸° ë•Œë¬¸ì— ì‹¤ì œë¡œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” ë¬´ë¦¬ê°€ ìˆë‹¤.
 ê·¸ëŸ¬ë‚˜ ì½”ë“œì— ì—¬ëŸ¬ ë‹¨ìœ„ê°€ í˜¼í•©ëœ ë§ì€ ìˆ˜ì˜ ìˆ«ìê°€ ë“¤ì–´ ìˆëŠ” ê²½ìš°, 
 ìˆ«ìì˜ ë‹¨ìœ„ë¥¼ ë¬¸ì„œí™”í•˜ëŠ” ê´œì°®ì€ ë°©ë²•ì¼ ìˆ˜ ìˆë‹¤.*/

type Meters = number & { _brand: 'meters' };
type Seconds = number & { _brand: 'seconds' };

const meters = (m: number) => m as Meters;
const seconds = (s: number) => s as Seconds;

const oneKm = meters(1000); // Meters
const oneMin = seconds(50); // Seconds

const tenKim = oneKm * 10; // number
const v = oneKm / oneMin; // number
```

ğŸ¯ **ìš”ì•½**

> **ê°’ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ ìƒí‘œ ê¸°ë²•ì„ ê³ ë ¤í•´ë³´ì**

âœ… ì°¸ê³ ìë£Œ<br>
[ì•„ì´í…œ35](https://yhancsx.github.io/js/effective-typescript-ch4/)<br>
[ì•„ì´í…œ37](https://danminblog.tistory.com/56)
